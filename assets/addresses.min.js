"use strict";var e=["DA","DE","EN","ES","FR","IT","JA","NL","PT","PT_BR"];function n(n){return n=n.replace(/-/,"_").toUpperCase(),-1!==e.indexOf(n)?n:-1!==e.indexOf(n.substring(0,2))?n.substring(0,2):"EN"}var t=/({\w+})/g,r={lastName:'[name="address[last_name]"]',firstName:'[name="address[first_name]"]',company:'[name="address[company]"]',address1:'[name="address[address1]"]',address2:'[name="address[address2]"]',country:'[name="address[country]"]',zone:'[name="address[province]"]',postalCode:'[name="address[zip]"]',city:'[name="address[city]"]',phone:'[name="address[phone]"]'};function o(e,t,o){t=t||"en";var i=function(e,n){var t={};return Object.keys(r).forEach((function(r){var o=e.querySelector(n[r]);t[r]=o?{wrapper:o.parentElement,input:o,labels:document.querySelectorAll('[for="'+o.id+'"]')}:{}})),t}(e,function(){for(var e=Object({}),n=0;n<arguments.length;n++){var t=arguments[n];if(t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}(r,(o=o||{inputSelectors:{}}).inputSelectors));return function(e){Object.keys(e).forEach((function(n){var t=e[n].input,r=e[n].labels;if(t){if("object"!=typeof t)throw new TypeError(e[n]+" is missing an input or select.");if("object"!=typeof r)throw new TypeError(e[n]+" is missing a label.")}}))}(i),function(e){return e?fetch(location.origin+"/meta.json").then((function(e){return e.json()})).then((function(e){return-1!==e.ships_to_countries.indexOf("*")?null:e.ships_to_countries})).catch((function(){return null})):Promise.resolve(null)}(o.shippingCountriesOnly).then((function(r){return function(e){return fetch("https://country-service.shopifycloud.com/graphql",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({query:"query countries($locale: SupportedLocale!) {  countries(locale: $locale) {    name    code    labels {      address1      address2      city      company      country      firstName      lastName      phone      postalCode      zone    }    formatting {      edit    }    zones {      name      code    }  }}",operationName:"countries",variables:{locale:n(e)}})}).then((function(e){return e.json()})).then((function(e){return e.data.countries}))}(t).then((function(n){!function(e,n,t){!function(e,n){var t=(e=e.country.input).cloneNode(!0);n.forEach((function(e){var n=document.createElement("option");n.value=e.code,n.textContent=e.name,t.appendChild(n)})),e.innerHTML=t.innerHTML,e.dataset.default&&(e.value=e.dataset.default)}(n,t);var r=n.country.input?n.country.input.value:null;(function(e,n,t){n.country.input.addEventListener("change",(function(r){a(e,n,r.target.value,t)}))})(e,n,t),a(e,n,r,t)}(e,i,function(e,n){return n?e.filter((function(e){return-1!==n.indexOf(e.code)})):e}(n,r))}))}))}function a(e,n,r,o){o=function(e,n){return e=e||"CA",n.filter((function(n){return n.code===e}))[0]}(r,o),function(e,n){Object.keys(e).forEach((function(t){e[t].labels.forEach((function(e){e.textContent=n.labels[t]}))}))}(n,o),function(e,n,r){r=r.formatting.edit;var o=n.country.wrapper,a=!1;(function(e){return e.split("_").map((function(e){return(e=e.match(t))?e.map((function(e){var n=e.replace(/[{}]/g,"");switch(n){case"zip":return"postalCode";case"province":return"zone";default:return n}})):[]}))})(r).forEach((function(t){t.forEach((function(r){n[r].wrapper.dataset.lineCount=t.length,n[r].wrapper&&("country"!==r?a?e.append(n[r].wrapper):e.insertBefore(n[r].wrapper,o):a=!0)}))}))}(e,n,o),function(e,n){if(e=e.zone){if(0===n.zones.length)return e.wrapper.dataset.ariaHidden="true",void(e.input.innerHTML="");e.wrapper.dataset.ariaHidden="false";var t=(e=e.input).cloneNode(!0);t.innerHTML="",n.zones.forEach((function(e){var n=document.createElement("option");n.value=e.code,n.textContent=e.name,t.appendChild(n)})),e.innerHTML=t.innerHTML,e.dataset.default&&(e.value=e.dataset.default)}}(n,o)}document.addEventListener("DOMContentLoaded",(function(){o(document.querySelector('[data-address="root"]'),"en")}));
